(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],s=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=r[0]))}return t}var s={},a={app:0},n=[];function i(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=s,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/g4cst3145/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},n=[],i={name:"App",components:{}},o=i,c=(r("034f"),r("2877")),l=Object(c["a"])(o,a,n,!1,null,null,null),u=l.exports,d=r("8c4f"),m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("h1",{staticClass:"title"},[t._v("Classes & Activities")]),r("router-link",{staticClass:"cart-button button",attrs:{to:{name:"Cart",params:{cart:t.cart,classes:t.classes}},tag:"button"}},[t._v("Cart")]),r("div",{staticClass:"container"},[r("div",{staticClass:"left_column"},[r("h3",[t._v("Sort By")]),r("div",{staticClass:"sort-menu"},[r("div",{staticClass:"sort-menu-item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.sortPrimary,expression:"sortPrimary"}],attrs:{type:"radio",id:"Subject",name:"sort_primary",value:"title"},domProps:{checked:t._q(t.sortPrimary,"title")},on:{change:[function(e){t.sortPrimary="title"},function(e){return t.filter()}]}}),r("label",{attrs:{for:"Subject"}},[t._v("Subject")])]),r("div",{staticClass:"sort-menu-item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.sortPrimary,expression:"sortPrimary"}],attrs:{type:"radio",id:"Location",name:"sort_primary",value:"location"},domProps:{checked:t._q(t.sortPrimary,"location")},on:{change:[function(e){t.sortPrimary="location"},function(e){return t.filter()}]}}),r("label",{attrs:{for:"Location"}},[t._v("Location")])]),r("div",{staticClass:"sort-menu-item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.sortPrimary,expression:"sortPrimary"}],attrs:{type:"radio",id:"Price",name:"sort_primary",value:"price"},domProps:{checked:t._q(t.sortPrimary,"price")},on:{change:[function(e){t.sortPrimary="price"},function(e){return t.filter()}]}}),r("label",{attrs:{for:"Price"}},[t._v("Price")])]),r("div",{staticClass:"sort-menu-item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.sortPrimary,expression:"sortPrimary"}],attrs:{type:"radio",id:"Availability",name:"sort_primary",value:"availableInventory"},domProps:{checked:t._q(t.sortPrimary,"availableInventory")},on:{change:[function(e){t.sortPrimary="availableInventory"},function(e){return t.filter()}]}}),r("label",{attrs:{for:"Availability"}},[t._v("Availability")])])]),r("br"),r("br"),r("br"),r("div",{staticClass:"sort-menu"},[r("div",{staticClass:"sort-menu-item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.sortSecondary,expression:"sortSecondary"}],attrs:{type:"radio",id:"Ascending",name:"sort_secondary",value:"asc"},domProps:{checked:t._q(t.sortSecondary,"asc")},on:{change:[function(e){t.sortSecondary="asc"},function(e){return t.filter()}]}}),r("label",{attrs:{for:"Ascending"}},[t._v("Ascending")])]),r("div",{staticClass:"sort-menu-item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.sortSecondary,expression:"sortSecondary"}],attrs:{type:"radio",id:"Descending",name:"sort_secondary",value:"desc"},domProps:{checked:t._q(t.sortSecondary,"desc")},on:{change:[function(e){t.sortSecondary="desc"},function(e){return t.filter()}]}}),r("label",{attrs:{for:"Descending"}},[t._v("Descending")])])])]),r("div",{staticClass:"right_column"},[r("div",{staticClass:"class-list"},t._l(t.classes,(function(e,s){return r("div",{key:e.id,staticClass:"class-item"},[r("img",{staticClass:"class-image",attrs:{src:t.apiUrl+"/images/"+e.image,alt:"Class image"}}),r("div",{staticClass:"class-info"},[t._v(t._s(e.id)+" - "),r("b",[t._v(t._s(e.topic))])]),r("div",{staticClass:"class-info"},[t._v(t._s(e.location))]),r("div",{staticClass:"class-info"},[t._v("Price: Â£"+t._s(e.price))]),r("div",{staticClass:"class-info"},[t._v("Available: "+t._s(e.space))]),r("button",{staticClass:"checkout-button",attrs:{disabled:e.availableInventory<=0||t.alreadyAdded(e.id)},on:{click:function(r){return t.addToCart(e.id,s)}}},[t._v("Add To Cart")])])})),0)])])],1)},v=[],p=(r("d3b7"),"https://g4cst3145-backend.herokuapp.com"),f={name:"Home",props:["_cart"],data:function(){return{apiUrl:p,classes:[],cart:{},sortPrimary:"",sortSecondary:""}},methods:{addToCart:function(t,e){this.alreadyAdded(t)||(this.classes[e].availableInventory=this.classes[e].availableInventory-1,this.cart[t]=!0)},alreadyAdded:function(t){var e=this.cart[t];return void 0===e&&(e=!1),e},filter:function(){"asc"===this.sortSecondary&&this.sortByAsc(this.sortPrimary),"desc"===this.sortSecondary&&this.sortByDesc(this.sortPrimary)},sortByAsc:function(t){this.classes.sort((function(e,r){return e[t]<r[t]?-1:e[t]>r[t]?1:0}))},sortByDesc:function(t){this.classes.sort((function(e,r){return e[t]>r[t]?-1:e[t]<r[t]?1:0}))}},mounted:function(){var t=this;console.log(this._cart),fetch("".concat(p,"/lesson/get/all")).then((function(t){return t.json()})).then((function(e){t.classes=e})),void 0!==this._cart&&(this.cart=this._cart)}},h=f,y=(r("5777"),Object(c["a"])(h,m,v,!1,null,"8d2ae954",null)),b=y.exports,_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cart"},[r("h1",[t._v("Cart")]),r("router-link",{staticClass:"back-button button",attrs:{to:{name:"Home",params:{_cart:t.cart}},tag:"button"}},[t._v("Back")]),t.empty?t._e():r("div",{staticClass:"cart-container"},[r("div",{staticClass:"class-list"},t._l(t.inCartClasses(),(function(e){return r("div",{key:e.id,staticClass:"class-item"},[r("img",{staticClass:"class-image",attrs:{src:e.image,alt:"Class image"}}),r("div",{staticClass:"class-info"},[t._v(t._s(e.id)+" - "),r("b",[t._v(t._s(e.title))])]),r("button",{staticClass:"checkout-button",attrs:{disabled:e.availableInventory<=0},on:{click:function(r){return t.removeFromCart(e.id)}}},[t._v("Remove From Cart")])])})),0),t._m(0),t._m(1),r("button",{staticClass:"checkout-button",on:{click:function(e){return t.checkout()}}},[t._v("Checkout")])]),t.empty?r("div",[r("h3",[t._v("Cart is empty")])]):t._e()],1)},C=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"item"},[r("label",{attrs:{for:"name"}},[t._v("Name:")]),r("input",{attrs:{type:"text",id:"name",name:"name"}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"item"},[r("label",{attrs:{for:"phone"}},[t._v("Phone:")]),r("input",{attrs:{type:"number",id:"phone",name:"phone"}})])}],g=(r("b64b"),{name:"Cart",props:["cart","classes"],data:function(){return{empty:!1}},methods:{removeFromCart:function(t){delete this.cart[t],this.classes[this.getClassIndexByID(t)].availableInventory+=1,0===Object.keys(this.cart).length&&(this.empty=!0),this.$forceUpdate()},inCartClasses:function(){if(void 0==this.cart)return[];for(var t=[],e=0;e<this.classes.length;e++){var r=this.classes[e];this.cart[r.id]&&t.push(r)}return t},getClassIndexByID:function(t){for(var e=0;e<this.classes.length;e++)if(this.classes[e].id===t)return e},checkout:function(){console.log("CHECKING OUT WITH CART:"),console.log(this.cart)}},mounted:function(){void 0===this.classes&&this.$router.push("/"),void 0!==this.cart&&0!==Object.keys(this.cart).length||(console.log("EMPTY"),this.empty=!0)}}),P=g,k=Object(c["a"])(P,_,C,!1,null,null,null),S=k.exports;s["a"].use(d["a"]);var w=new d["a"]({routes:[{path:"/",name:"Home",component:b,props:!0},{path:"/cart",name:"Cart",component:S,props:!0}]});s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(u)},router:w}).$mount("#app")},5777:function(t,e,r){"use strict";r("9e4c")},"85ec":function(t,e,r){},"9e4c":function(t,e,r){}});
//# sourceMappingURL=app.23644179.js.map